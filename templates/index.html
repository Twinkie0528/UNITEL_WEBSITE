<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Unitel AI Hub ‚Äî Assistant</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --unitel-green: #00b140;
      --unitel-green-light: #e6f7ec;
      --ink: #121826;
      --ink-light: #4b5563;
      --ink-subtle: #9ca3af;
      --bg-main: #f9fafb;
      --bg-card: #ffffff;
      --border-color: #e5e7eb;
      --ring-glow: rgba(0, 177, 64, .2);
      
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      --shadow-brand: 0 10px 30px -5px rgba(0, 177, 64, 0.2);
    }

    /* Dark Mode ”©–Ω–≥”©–Ω“Ø“Ø–¥ */
    :root.dark-mode {
      --ink: #f8fafc;
      --ink-light: #cbd5e1;
      --ink-subtle: #94a3b8;
      --bg-main: #0f172a;
      --bg-card: #1e293b;
      --border-color: #334155;
      --unitel-green-light: rgba(0, 177, 64, 0.1);
    }

    *{ margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; }
    html { transition: background-color .3s ease, color .3s ease; } /* Transition-–≥ html-–¥ ”©–≥—Å”©–Ω */

    body{
      font-family: 'Montserrat', sans-serif;
      color: var(--ink);
      background-color: var(--bg-main); 
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    .transition-all { transition: all .2s ease-in-out; }

    .nav {
      position: sticky; top: 0; z-index: 1000;
      background: rgba(255,255,255, .85);
      border-bottom: 1px solid var(--border-color);
      backdrop-filter: saturate(180%) blur(10px);
    }
    html.dark-mode .nav {
      background: rgba(30, 41, 59, 0.85);
    }
    .nav-inner {
      max-width: 1100px; margin: 0 auto; padding: 16px 24px;
      display: flex; align-items: center; justify-content: space-between;
    }
    .brand { display: flex; align-items: center; gap: 12px; font-weight: 700; font-size: 18px; color: var(--ink); text-decoration: none; }
    .brand img { height: 30px; }
    .menu { display: flex; align-items:center; gap: 8px; }
    .menu a { text-decoration: none; color: var(--ink-light); font-weight: 600; padding: 8px 14px; border-radius: 12px; transition: background-color .2s ease, color .2s ease; }
    .menu a:hover { background: var(--unitel-green-light); color: var(--unitel-green); }
    .cta-admin { background: var(--unitel-green); color: #fff !important; box-shadow: var(--shadow-brand); }
    .cta-admin:hover { filter: brightness(1.05); transform: translateY(-1px); }

    .mode-toggle {
      background: none; border: 1px solid var(--border-color);
      width: 40px; height: 40px; border-radius: 12px;
      cursor: pointer; font-size: 18px; display:flex; justify-content:center; align-items:center;
      transition: background-color .2s;
    }
    .mode-toggle:hover { background-color: var(--unitel-green-light); }

    .hero {
      max-width: 1100px; margin: 48px auto 0; padding: 0 24px;
      display: grid; grid-template-columns: 1.2fr .8fr; gap: 24px;
    }
    @media (max-width: 950px){ .hero{ grid-template-columns: 1fr; margin-top: 32px; } }

    .hero-card {
      background: linear-gradient(135deg, var(--unitel-green), #00c650);
      border-radius: 24px; padding: 40px; color: #fff;
      box-shadow: var(--shadow-brand);
      position: relative; overflow: hidden;
    }
    .hero-card:after {
      content: ""; position: absolute; inset: auto -40% -50% auto;
      width: 70%; height: 200%; border-radius: 50%;
      background: radial-gradient(closest-side, rgba(255,255,255,.18), transparent);
      transform: rotate(15deg); opacity: 0.8;
    }
    .hero h1 { margin: 0 0 12px; font-size: clamp(32px, 4vw, 42px); line-height: 1.2; }
    .hero p { margin: 0; opacity: .9; line-height: 1.5; }
    .pill { display: inline-flex; align-items: center; gap: 8px; background: rgba(255,255,255,.1); border: 1px solid rgba(255,255,255,.2); padding: 8px 16px; border-radius: 999px; font-size: 14px; margin-top: 20px; }

    .feature-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
    @media (max-width: 768px){ .feature-row{ grid-template-columns: 1fr 1fr; } }
    @media (max-width: 640px){ .feature-row{ grid-template-columns: 1fr; } }

    .feature { padding: 20px; border: 1px solid var(--border-color); box-shadow: var(--shadow-sm); border-radius: 18px; background: rgba(255, 255, 255, 0.6); backdrop-filter: blur(10px); }
    html.dark-mode .feature { background: rgba(30, 41, 59, 0.6); }
    .feature-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
    .feature-icon { flex-shrink: 0; width: 40px; height: 40px; background-color: var(--unitel-green-light); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
    .feature h3 { font-size: 16px; color: var(--ink); margin: 0;}
    .feature p { margin: 0; color: var(--ink-light); font-size: 14px; line-height: 1.5; }
    .link-card { display: block; text-decoration: none; color: inherit; }
    .link-card:hover .feature { transform: translateY(-4px) scale(1.02); border-color: rgba(0, 177, 64, .4); box-shadow: var(--shadow-brand); }

    .chat-wrap { max-width: 900px; margin: 48px auto 80px; padding: 0 24px; }
    .chat-card { border-radius: 24px; overflow: hidden; border: 1px solid var(--border-color); background: rgba(255,255,255, .75); backdrop-filter: blur(12px); box-shadow: var(--shadow-lg); }
    html.dark-mode .chat-card { background: rgba(30, 41, 59, 0.75); }
    .chat-head { display: flex; align-items: center; justify-content: space-between; padding: 16px 20px; background: var(--bg-card); border-bottom: 1px solid var(--border-color); }
    .chat-title { display: flex; align-items: center; gap: 12px; font-weight: 700; }
    .status-dot { width: 10px; height: 10px; border-radius: 50%; background: var(--unitel-green); box-shadow: 0 0 0 4px var(--unitel-green-light); }
    .chat-box { height: 450px; overflow-y: auto; padding: 20px; background: var(--bg-main); }
    .msg { max-width: 80%; padding: 12px 16px; border-radius: 18px; margin: 10px 0; line-height: 1.5; word-wrap: break-word; }
    .msg.user { margin-left: auto; color: #056026; background: #d1fae5; border-top-right-radius: 6px; }
    .msg.bot { background: #f3f4f6; border: 1px solid #e5e7eb; color: #4b5563; border-top-left-radius: 6px; }
    html.dark-mode .msg.bot { background: #334155; border-color: #475569; color: var(--ink-light); }
    .typing { display: inline-flex; gap: 6px; align-items: center; }
    .dot { width: 8px; height: 8px; border-radius: 50%; background: var(--ink-subtle); animation: bump 1.2s infinite; }
    .dot:nth-child(2) { animation-delay: .15s; } .dot:nth-child(3) { animation-delay: .3s; } @keyframes bump { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-4px); } }
    .chat-input-area { padding: 16px; background: var(--bg-card); border-top: 1px solid var(--border-color); }
    .chat-input-flex { display: flex; gap: 12px; }
    .input { flex: 1; border: 1px solid var(--border-color); border-radius: 14px; padding: 12px 16px; font-size: 15px; outline: none; background: var(--bg-card); color: var(--ink); }
    .input:focus { border-color: var(--unitel-green); box-shadow: 0 0 0 4px var(--ring-glow); }
    .btn { border: none; background: var(--unitel-green); color: #fff; border-radius: 14px; padding: 0 20px; font-weight: 700; cursor: pointer; box-shadow: var(--shadow-brand); min-width: 110px; height: 48px; }
    .btn:hover { filter: brightness(1.05); transform: scale(1.02); }
    .chips { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }
    .chip { background: #f3f4f6; color: #4b5563; border: 1px solid transparent; padding: 8px 14px; border-radius: 999px; font-size: 13px; cursor: pointer; }
    html.dark-mode .chip { background: #334155; border-color: #475569; color: var(--ink-light); }
    .chip:hover { background: var(--unitel-green-light); color: var(--unitel-green); border-color: #a7d7b9; }
    .fab { position: fixed; right: 24px; bottom: 24px; z-index: 999; width: 56px; height: 56px; border-radius: 50%; background: var(--unitel-green); color: #fff; display: flex; align-items: center; justify-content: center; box-shadow: var(--shadow-lg); cursor: pointer; user-select: none; font-size: 24px; }
    .fab:hover { transform: scale(1.08); filter: brightness(1.05); }
    .toast { position: fixed; left: 50%; bottom: 100px; background: #1f2937; color: #f9fafb; padding: 12px 18px; border-radius: 12px; font-size: 14px; opacity: 0; pointer-events: none; transform: translate(-50%, 10px); box-shadow: var(--shadow-lg); }
    .toast.show { opacity: 1; transform: translate(-50%, 0); }
    footer { padding: 48px 24px; text-align: center; color: var(--ink-subtle); font-size: 14px; }
  </style>
</head>
<body>

  <header class="nav">
    <div class="nav-inner">
      <a class="brand" href="/">
        <img src="/static/images/unitel-logo.png" alt="Unitel logo" />
        <span>Unitel AI Hub</span>
      </a>
      <nav class="menu" aria-label="primary">
        <a href="/">–ù“Ø“Ø—Ä</a>
        <a href="/login">–ù—ç–≤—Ç—Ä—ç—Ö</a>
        <a href="#">–¢—É—Å–ª–∞–º–∂</a>
        <a href="/admin" class="cta-admin transition-all">–ê–¥–º–∏–Ω</a>
        <button id="dark-mode-toggle" class="mode-toggle" title="–ì–æ—Ä–∏–º —Å–æ–ª–∏—Ö">üåô</button>
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="hero-card">
      <h1>–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ & –ò–Ω–Ω–æ–≤–∞—Ü–∏–π–Ω AI –¢—É—Å–ª–∞—Ö</h1>
      <p>Facebook Graph —Ç–∞–π–ª–∞–Ω, 7 —Ö–æ–Ω–æ–≥–∏–π–Ω sentiment –∞–Ω–∞–ª–∏–∑, Ad report ‚Äî –±“Ø–≥–¥–∏–π–≥ –Ω—ç–≥ –¥–æ—Ä–æ–æ—Å.</p>
      <div class="pill">‚ö° –¢“Ø—Ä–≥—ç–Ω “Ø–π–ª–¥–ª“Ø“Ø–¥: ‚Äúgraph api —Ç–∞–π–ª–∞–Ω‚Äù, ‚Äúads —Ç–∞–π–ª–∞–Ω‚Äù</div>
    </div>
    <div>
      <div class="feature-row">
        <a class="link-card" href="#" title="Facebook —Ç–∞–π–ª–∞–Ω">
          <div class="feature transition-all">
            <div class="feature-header"><div class="feature-icon">üìä</div><h3>Facebook —Ç–∞–π–ª–∞–Ω</h3></div>
            <p>–ü–æ—Å—Ç/–∫–æ–º–º–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä —Ç–∞—Ç–∞–∂, CSV/XLSX —ç–∫—Å–ø–æ—Ä—Ç —Ö–∏–π–Ω—ç.</p>
          </div>
        </a>
        <a class="link-card" href="#" title="Sentiment –∞–Ω–∞–ª–∏–∑">
          <div class="feature transition-all">
            <div class="feature-header"><div class="feature-icon">üß†</div><h3>Sentiment</h3></div>
            <p>–≠–µ—Ä—ç–≥/—Å”©—Ä”©–≥/—Ç”©–≤–∏–π–Ω –∞–Ω–≥–∏–ª–∞–ª, ”©–¥”©—Ä —Ç—É—Ç–º—ã–Ω —Ç—Ä–µ–Ω–¥–∏–π–≥ —Ö–∞—Ä–Ω–∞.</p>
          </div>
        </a>
        <a class="link-card" href="/admin" title="Ad report dashboard —Ä—É—É –æ—Ä–æ—Ö">
          <div class="feature transition-all">
            <div class="feature-header"><div class="feature-icon">üìà</div><h3>Ad report</h3></div>
            <p>–°–∞–π—Ç—É—É–¥–∞–∞—Å –∑–∞—Ä —Å—É—Ä—Ç–∞–ª—á–∏–ª–≥–∞–∞–Ω—ã —Ç–∞–π–ª–∞–Ω—Ç–∞–π —Ç–∞–Ω–∏–ª—Ü–∞—Ö, —Ç–∞—Ç–∞—Ö .</p>
          </div>
        </a>
      </div>
    </div>
  </section>

  <main class="chat-wrap" aria-label="chat">
    <div class="chat-card" id="chat-panel">
      <div class="chat-head">
        <div class="chat-title"><span class="status-dot"></span> Unitel Assistant</div>
        <div style="color:var(--ink-subtle); font-size:13px;">Beta</div>
      </div>
      <div id="chat-box" class="chat-box" role="log" aria-live="polite" aria-atomic="false"></div>
      <div class="chat-input-area">
        <div class="chat-input-flex">
          <input id="question" class="input transition-all" type="text" placeholder="–ê—Å—É—É–ª—Ç–∞–∞ —ç–Ω–¥ –±–∏—á–Ω—ç “Ø“Ø..." autocomplete="off" />
          <button id="send" class="btn transition-all" type="button" aria-label="–ò–ª–≥—ç—ç—Ö">–ò–ª–≥—ç—ç—Ö</button>
        </div>
        <div class="chips" aria-label="quick actions">
          <span class="chip transition-all" data-q="graph api —Ç–∞–π–ª–∞–Ω">Graph API —Ç–∞–π–ª–∞–Ω</span>
          <span class="chip transition-all" data-q="ads —Ç–∞–π–ª–∞–Ω">Ads —Ç–∞–π–ª–∞–Ω</span>
          <span class="chip transition-all" data-q="—Å“Ø“Ø–ª–∏–π–Ω 7 —Ö–æ–Ω–æ–≥–∏–π–Ω sentiment">7 —Ö–æ–Ω–æ–≥–∏–π–Ω sentiment</span>
        </div>
      </div>
    </div>
  </main>

  <div class="fab transition-all" id="fab" title="–ß–∞—Ç –Ω—ç—ç—Ö/—Ö–∞–∞—Ö">üí¨</div>
  <div class="toast transition-all" id="toast">–°–µ—Ä–≤–µ—Ä—Ç—ç–π —Ö–æ–ª–±–æ–≥–¥–æ–∂ —á–∞–¥—Å–∞–Ω–≥“Ø–π.</div>
  <footer>¬© 2025 Unitel Innovation Hub ‚Ä¢ –ë“Ø—Ö —ç—Ä—Ö —Ö—É—É–ª–∏–∞—Ä —Ö–∞–º–≥–∞–∞–ª–∞–≥–¥—Å–∞–Ω</footer>

  <script>
    const $ = (s, p = document) => p.querySelector(s);
    const $$ = (s, p = document) => [...p.querySelectorAll(s)];
    const chatBox = $("#chat-box"), input = $("#question"), sendBtn = $("#send"), fab = $("#fab"), toast = $("#toast"), panel = $("#chat-panel");
    let typingEl = null;
    const showToast = (msg) => { toast.textContent = msg; toast.classList.add("show"); setTimeout(() => toast.classList.remove("show"), 2400); };
    const escapeHTML = (str) => str.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    const linkify = (text) => { const urlRe = /(https?:\/\/[^\s]+)|((\/report\/[^\s]+))/g; return escapeHTML(text).replace(urlRe, (m) => `<a href="${m}" target="_blank" rel="noopener">${m}</a>`); };
    const appendMessage = (text, who = "bot") => { const el = document.createElement("div"); el.className = `msg ${who}`; el.innerHTML = (who === "user" ? "üë§ " : "ü§ñ ") + linkify(text); chatBox.appendChild(el); chatBox.scrollTop = chatBox.scrollHeight; };
    const showTyping = () => { if (typingEl) return; typingEl = document.createElement("div"); typingEl.className = "msg bot"; typingEl.innerHTML = `<span class="typing"><span class="dot"></span><span class="dot"></span><span class="dot"></span></span>`; chatBox.appendChild(typingEl); chatBox.scrollTop = chatBox.scrollHeight; };
    const hideTyping = () => { if (typingEl) { typingEl.remove(); typingEl = null; } };
    const sendMessage = async (q) => { const question = q.trim(); if (!question) return; appendMessage(question, "user"); input.value = ""; showTyping(); try { const res = await fetch("/chatbot", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ question }) }); if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`); const data = await res.json(); hideTyping(); appendMessage(data?.response ?? "–£—É—á–ª–∞–∞—Ä–∞–π, –æ–π–ª–≥–æ–º–∂—Ç–æ–π —Ö–∞—Ä–∏—É–ª—Ç –æ–ª–¥—Å–æ–Ω–≥“Ø–π.", "bot"); } catch (e) { console.error("Fetch error:", e); hideTyping(); showToast("–°–µ—Ä–≤–µ—Ä—Ç—ç–π —Ö–æ–ª–±–æ–≥–¥–æ—Ö–æ–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞."); appendMessage("–£—É—á–ª–∞–∞—Ä–∞–π, —Å–µ—Ä–≤–µ—Ä—Ç—ç–π —Ö–æ–ª–±–æ–≥–¥–æ–∂ —á–∞–¥—Å–∞–Ω–≥“Ø–π. –¢–∞ —Ç“Ø—Ä —Ö“Ø–ª—ç—ç–≥—ç—ç–¥ –¥–∞—Ö–∏–Ω –æ—Ä–æ–ª–¥–æ–Ω–æ —É—É.", "bot"); } };
    sendBtn.addEventListener("click", () => sendMessage(input.value));
    input.addEventListener("keydown", (e) => { if (e.key === "Enter" && !e.shiftKey) { e.preventDefault(); sendMessage(input.value); } });
    $$(".chip").forEach(ch => ch.addEventListener("click", () => sendMessage(ch.dataset.q)));
    fab.addEventListener("click", () => { panel.style.display = panel.style.display === 'none' ? 'block' : 'none'; });
    window.addEventListener('DOMContentLoaded', () => { appendMessage("–°–∞–π–Ω –±–∞–π–Ω–∞ —É—É! –ë–∏ –±–æ–ª Unitel AI —Ç—É—Å–ª–∞—Ö! –¢–∞–Ω–¥ —Ç—É—Å–ª–∞—Ö–∞–¥ –±—ç–ª—ç–Ω –±–∞–π–Ω–∞."); });
  </script>

  <script>
    const toggleButton = document.getElementById('dark-mode-toggle');
    const rootElement = document.documentElement; // <html> —Ç–∞–≥-—Ç —Ö–∞–Ω–¥–∞—Ö

    if (localStorage.getItem('theme') === 'dark') {
      rootElement.classList.add('dark-mode');
      toggleButton.textContent = '‚òÄÔ∏è';
    }

    toggleButton.addEventListener('click', () => {
      rootElement.classList.toggle('dark-mode');
      if (rootElement.classList.contains('dark-mode')) {
        localStorage.setItem('theme', 'dark');
        toggleButton.textContent = '‚òÄÔ∏è';
      } else {
        localStorage.removeItem('theme');
        toggleButton.textContent = 'üåô';
      }
    });
  </script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
  <script>
  const vantaEffect = VANTA.NET({
    el: "body",
    mouseControls: true,
    touchControls: true,
    gyroControls: false,
    minHeight: 200.00,
    minWidth: 200.00,
    scale: 1.00,
    scaleMobile: 1.00,
    color: 0x00b140,
    backgroundColor: document.documentElement.classList.contains('dark-mode') ? 0x0f172a : 0xf9fafb,
    points: 12.00,
    maxDistance: 25.00,
    spacing: 18.00
  })

  document.getElementById('dark-mode-toggle').addEventListener('click', () => {
    vantaEffect.setOptions({
      backgroundColor: document.documentElement.classList.contains('dark-mode') ? 0x0f172a : 0xf9fafb
    })
  });
  </script>
  
</body>
</html>